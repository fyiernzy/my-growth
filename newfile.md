### 设计文档

**开发之前，设计先行。**

在开发之前，把设计文档写下来，是

把文档写下来 - 自我梳理、自我批判、自我补充的流程。理清疑惑，说服自己，这很重要。也是提高自己的学习能力。

一份设计文档应该有：


开发流程 - 需求确认、设计文档、代码审批文档、测试文档？如何优化这个流程（个人的自我要求） —— 先做难的事情，才能把时间变得简单。





测试代码应该测试 Interfaces 而不是 underlying implementation

团队知识传承

原则 & 方法
- Motivation - 写这个系统的故事，面临的问题是什么？
- Proposals - 设计方案和 Trade-Off
- Design Details - 系统边界、领域模式、UML（State, ERD, Sequence)
- References


Abstract 文档整体设计
Motivation 背景和动机，对问题的分析和定义；描述当时语境/生态下的问题，然后为什么要解决这个问题，解决这个问题可以带来什么 benefit

Proposal
- 社区设计文档会把 Motivation的篇幅写到 50% 以上的篇幅，用来论证必要性和缘由，为了说服他人 & 要解决的问题，这个问题的严重性，会影响到什么面，具体的业务领域是什么；只有把问题写清楚了，之后的 Proposal 才有意义。解决方法和行动不难，关键是这样做是否有意义？所有 Proposal 都是在解决问题，但是解法有很多，每个解法也各有优缺，所以了解了 Motivation 我们才能够确定 Trade Off
- 
- Goals - 设计的关键目标，要量化
- No Goals - 明确设计的非目标，体现取舍
- 未来功能的拓展和一些变化的考量

Design
- 在当下上下文下，我们可以忍受什么？把权衡的考量因素说清楚，比如有三个方案，选择第三个方案的原因是什么？选择折中方案，确定技术细节，确立系统边界。
- 领域模型：描述字段、描述设计理念、如何去适配、解决问题；把问题写清楚。
- System Context Diagram（系统上下文图）
- Domain Model 当前系统和领域模型
- API 对外提供的 API
- Core Process（系统关键模块 & 外部系统模块）的交互流程
- Reference：相关引用材料
