Springboot note
/actuator/health
/actuator/info

Update application.properties to include health, info

```java
management.endpoints.web.exposure.include=health, info
management.info.env.enabled=true
info.app.name
# customise the info’s data ourselves
```

Sb springboot actuator endpoint (include, exclude, available endpoints)
Sb actuator security

Sb server.port
Sb server.servlet.context-path=/
server.servlet.session-timeout
Db data source url
@SpringbootApplication(scanBasePackages={})

@Primary + @Qualifier, Qualifier > Primary
@Lazy (create a component only when required) (spring.main.lazy-initialization=true)
- Slower request and can result in request timeout since the bean is not created first
- Cannot discover config issues at initialization stage
- Cannot guarantee to have enough memory for the bean creation


Bean scope @Scope(ConfigurableBeanFactory.SCOPE_)
- Singleton (only one)
- Prototype (per req)
- Request (per web request)
- Session (per user session)
- Application (per servlet context)


Bean lifecycle method (initialisation, destruction), @PostConstruct, @PreDestroy
For "prototype" scoped beans, Spring does not call the destroy method. Gasp! 
---
In contrast to the other scopes, Spring does not manage the complete lifecycle of a prototype bean: the container instantiates, configures, and otherwise assembles a prototype object, and hands it to the client, with no further record of that prototype instance.
Thus, although initialization lifecycle callback methods are called on all objects regardless of scope, in the case of prototypes, configured destruction lifecycle callbacks are not called. The client code must clean up prototype-scoped objects and release expensive resources that the prototype bean(s) are holding.

Java Config Bean
@Configutation > @Bean (method name = bean name)
```
@Bean
public Coach swimCoach() {
	return new SwimCoach();
}
```
beanName = swimCoach (used in @Qualifier)
- For third party source code (when we cannot use @Component/@Service, etc.) but we want to make it be a Spring Bean


Hibernate handles low level code, minimising JDBC code
Hibernate provides ORM
JPA (Jakarta Persistence API, JPA) - standard api for ORM
Only a specification defining a set of interfaces, requiring implementation to make it usable
Portable code, flexible vendor 
‘@ControllerAdvice @ExceptionHandler
REST API - api/<noun>/attribute + HTTP Method (Post, Get, etc.)
Spring data rest

Spring Security 
Spring Security Filters -> protected web resources
Spring Security Filters -> protected web resources > security configuration

Is web res protected? -> is user authenticated? (Proceed/ send to login form)-> is used authorised? (Show res, access denied)

Declarative security - @Configuration
Programmatic Security

requestMatchers(method, api).hasRole/.hasAnyRole
CSRF Protection for browser based
Bcrypt encryption why crypt, bcrypt algo analysis, password hashing best practices


@JoinColumn(name), @OneToMany(cascade, fetch), @ManyToOne, @JoinTable (for @ManyToMany) - name, joinColumns, inverseJoinColumns & mappedBy (depends on scenario, sometimes mapped by shud be enuf, for example (often need helper method to update at both in memory and in db at the same time)
Calling CRUD on non-owning side (mappedBy) will have no effect on the db relationship
- Lazy loading
- Cascading (study cascade type and their effects)

AOP https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/aop.html
- Pointcut
- Advice
- @Before, @After, @Around
- JoinPoint

- Aspect: A modularisation of a concern that cuts across multiple classes
- Class (@Aspect, @Component) - LoggingAspect
- @Pointcut  A point during the execution of a program - at where (a regex, a package, a class, a method, an annotation?)
- Advice: Action taken by an aspect at a particular join point. @Around @Before @After @AfterReturning @AfterThrowing
- @Order

Course
Custom tables (query & security config -> need study)

.git-templates
Git commit hook

Git config —list
Git config —local issue.id
Git config —unset issue.id

Intermediate Course in SpringBoot
- AOP (How to write complicated & test it, like basic concepts + read arguments with join points))
- Spring Security (How to write complicated & test it)
- Spring Data JPA (Relationship, Inheritance, @Query, Specification/Example, Pageable)
